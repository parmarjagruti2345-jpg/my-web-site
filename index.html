<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Handwriting to PDF Pro+</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
body{
  margin:0;
  font-family:Segoe UI;
  background:linear-gradient(135deg,#fdf4ff,#e0f7ff);
  text-align:center;
}

.container{
  padding:40px 20px;
}

.card{
  background:white;
  max-width:700px;
  margin:auto;
  padding:30px;
  border-radius:25px;
  box-shadow:0 15px 40px rgba(0,0,0,0.15);
}

h1{
  color:#c084fc;
}

.upload{
  border:2px dashed #c084fc;
  padding:30px;
  border-radius:20px;
  cursor:pointer;
  margin:20px 0;
}

button{
  padding:12px 25px;
  border:none;
  border-radius:30px;
  background:linear-gradient(45deg,#c084fc,#f9a8d4);
  color:white;
  font-size:15px;
  cursor:pointer;
  margin:10px;
}

.preview{
  max-width:100%;
  margin-top:20px;
  border-radius:15px;
}
</style>
</head>

<body>

<div class="container">
  <div class="card">
    <h1>üìù Handwriting to PDF (Ultra Pro)</h1>
    <p>Exact Quality ‚Ä¢ Multi Page ‚Ä¢ A4 Fit</p>

    <div class="upload" onclick="document.getElementById('file').click()">
      üìÇ Click to Upload Multiple Handwriting Images
    </div>

    <input type="file" id="file" multiple accept="image/*" style="display:none">

    <div id="previewArea"></div>

    <button onclick="generatePDF()">Convert to High Quality PDF</button>
  </div>
</div>

<script>
let images=[];

document.getElementById("file").addEventListener("change",function(e){
  images=[];
  document.getElementById("previewArea").innerHTML="";
  const files=e.target.files;

  for(let i=0;i<files.length;i++){
    const reader=new FileReader();
    reader.onload=function(event){
      images.push(event.target.result);
      const img=document.createElement("img");
      img.src=event.target.result;
      img.className="preview";
      document.getElementById("previewArea").appendChild(img);
    }
    reader.readAsDataURL(files[i]);
  }
});

async function generatePDF(){
  if(images.length===0){
    alert("Upload at least one image");
    return;
  }

  const { jsPDF } = window.jspdf;
  const pdf=new jsPDF("p","mm","a4");

  for(let i=0;i<images.length;i++){

    if(i>0){
      pdf.addPage();
    }

    const img=new Image();
    img.src=images[i];

    await new Promise(resolve=>{
      img.onload=function(){

        const pageWidth=210;  // A4 width mm
        const pageHeight=297; // A4 height mm

        const imgWidth=img.width;
        const imgHeight=img.height;

        const ratio=Math.min(pageWidth/imgWidth,pageHeight/imgHeight);

        const finalWidth=imgWidth*ratio;
        const finalHeight=imgHeight*ratio;

        const x=(pageWidth-finalWidth)/2;
        const y=(pageHeight-finalHeight)/2;

        pdf.addImage(img,"JPEG",x,y,finalWidth,finalHeight,"","FAST");
        resolve();
      }
    });
  }

  pdf.save("Handwriting_Exact_Quality.pdf");
}
</script>

</body>
</html>
